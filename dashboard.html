<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arni University - Student Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #004d40; --secondary: #00796b; --bg: #f8f9fa; --border: #ddd; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; background: var(--bg); display: flex; height: 100vh; overflow: hidden; }
        .hidden { display: none !important; }
        .sidebar { width: 280px; background: white; border-right: 1px solid var(--border); display: flex; flex-direction: column; }
        .sidebar-header { padding: 20px; background: var(--primary); color: white; text-align: center; }
        .nav-menu { flex: 1; overflow-y: auto; }
        .nav-item { padding: 14px 20px; border-bottom: 1px solid #f1f1f1; display: flex; align-items: center; gap: 12px; font-size: 13px; color: #444; cursor: pointer; }
        .nav-active { border-left: 5px solid #ffc107; background: #f0f7f6; font-weight: 600; }
        .main-view { flex: 1; overflow-y: auto; padding: 30px; }
        .top-nav { background: white; padding: 15px 30px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 10; font-size: 13px; }
        .a4-paper { background: white; width: 210mm; min-height: 297mm; padding: 15mm; margin: 10px auto; border: 1.5px solid #000; position: relative; box-sizing: border-box; color: #000; }
        .table-data { width: 100%; border-collapse: collapse; margin-top: 15px; }
        .table-data td, .table-data th { border: 1px solid #000; padding: 8px; font-size: 12px; text-align: left; }
        .th-bg { background: #f2f2f2; font-weight: bold; text-align: center; }
        .id-grid { display: flex; flex-wrap: wrap; gap: 25px; justify-content: center; padding: 20px; }
        .id-box { width: 340px; height: 215px; border: 1.5px solid #000; border-radius: 12px; overflow: hidden; background: #fff; position: relative; }
        .id-back { background: #f9f9f9; padding: 15px; display: flex; flex-direction: column; justify-content: space-between; font-size: 11px; }
        @media print { .no-print { display: none !important; } .a4-paper { border: none; margin: 0; width: 100%; box-shadow: none; } }
    </style>
</head>
<body>
    <div id="loginOverlay" class="hidden"></div>
    <div id="portal" class="hidden" style="display: flex; width: 100%;">
        <div class="sidebar no-print">
            <div class="sidebar-header">
                <img src="https://i.ibb.co/V0nT8RJN/arni-new-logo.png" style="width: 50px; background: white; border-radius: 50%; padding: 4px;">
                <div style="margin-top: 10px; font-size: 14px; font-weight: 600;">STUDENT DESKTOP</div>
            </div>
            <div class="nav-menu">
                <div class="nav-item nav-active" onclick="view('dash', this)"><i class="fa fa-home"></i> Dashboard</div>
                <div class="nav-item" onclick="view('academic', this)"><i class="fa fa-graduation-cap"></i> 1. Academic Details</div>
                <div class="nav-item" onclick="view('geninfo', this)"><i class="fa fa-user-circle"></i> 2. General Info</div>
                <div class="nav-item" onclick="view('slip', this)"><i class="fa fa-file-invoice"></i> 3. Registration Slip</div>
                <div class="nav-item" onclick="view('id', this)"><i class="fa fa-id-badge"></i> 4. Identity Card</div>
                <div class="nav-item" onclick="view('att', this)"><i class="fa fa-clock"></i> 5. Attendance</div>
                <div class="nav-item" onclick="view('notif', this)"><i class="fa fa-bell"></i> 6. Notification</div>
                <div class="nav-item" onclick="view('form', this)"><i class="fa fa-edit"></i> 7. Examination Form</div>
                <div class="nav-item" onclick="view('res', this)"><i class="fa fa-poll"></i> 8. Result</div>
                <div class="nav-item" onclick="view('lock', this)"><i class="fa fa-lock"></i> 9. Student Locker</div>
                <div class="nav-item" onclick="view('stuinfo', this)"><i class="fa fa-info-circle"></i> 10. Student Info</div>
                <div class="nav-item" style="color:red; margin-top:20px;" onclick="logout()"><i class="fa fa-power-off"></i> Logout</div>
            </div>
        </div>
        <div class="main-view">
            <div class="top-nav no-print">
                <div id="dynamicHeader"></div>
                <img id="headerPhoto" src="" style="width: 45px; height: 45px; border-radius: 50%; border: 2px solid var(--primary);">
            </div>
            <div id="v-dash" class="panel"></div>
            <div id="v-academic" class="panel hidden"></div>
            <div id="v-geninfo" class="panel hidden"></div>
            <div id="v-slip" class="panel hidden"></div>
            <div id="v-id" class="panel hidden"></div>
            <div id="v-notif" class="panel hidden"></div>
            <div id="v-form" class="panel hidden"></div>
            <div id="v-res" class="panel hidden">
                <div class="no-print" style="text-align:center; margin-bottom: 20px;">
                    <select id="semSearch" style="padding: 10px; width: 250px;"></select>
                    <button class="login-btn" style="width: 100px; padding: 10px; background:var(--primary); color:#fff; border:none; cursor:pointer;" onclick="searchResult()">Search</button>
                    <button class="login-btn" style="width: 100px; padding: 10px; background:#333; color:#fff; border:none; cursor:pointer; margin-left:10px;" onclick="window.print()">Print</button>
                </div>
                <div id="resPaper" class="hidden"></div>
            </div>
            <div id="v-att" class="panel hidden"><div style="background:#e0f2f1; padding:20px;"><b>Attendance Status: 82%</b></div></div>
            <div id="v-lock" class="panel hidden"><div style="text-align:center; padding:50px;"><i class="fa fa-lock fa-4x"></i><p style="color:red;">Clear NO DUES for documents.</p></div></div>
            <div id="v-stuinfo" class="panel hidden"><div class="a4-paper"><h3>Student Info Section</h3></div></div>
        </div>
    </div>

    <script>
        const students = {
            "AN11CE3408": {
                name: "SAKET BIHARI", dob: "25/01/1988", enroll: "AN11CE3408", course: "B.TECH (Civil)", session: "2011-2015",
                father: "KASHINATH SHARMA", aadhar: "XXXX-XXXX-3408", mobile: "+91-XXXXXXXXXX", email: "saket.bihari@email.com",
                board10: "BSEB Patna", board12: "BSEB Patna", address: "Near Surya Mandir, Shamsher Nagar, Aurangabad, Bihar - 824113",
                photo: "https://i.ibb.co/B2zShwtv/student.jpg", blood: "B+", conv: "2011-15",
                forms: [["Fourth Semester", "2013-2014", "25/10/2013"], ["Fifth Semester", "2013-2014", "01/05/2014"]],
                results: {
                    "1": { h: "FEB 2012", sem: "FIRST", footer: "SGPA: 8.1 | CGPA: 7.91", data: [['CE(101)','Engineering MATH-1','4','A'],['CE(102)','Engineering PHYSICS','4','B'],['CE(103)','BASIC CIVIL','4','A+'],['CE(104)','Engineering Mechanics','3','C']] },
                    "2": { h: "JULY 2012", sem: "SECOND", footer: "SGPA: 7.9 | CGPA: 7.51", data: [['AU-BTC-201','Mathematics-II','4','B+'],['AU-BTC-202','Programming IN C','4','A']] }
                }
            },
            "AN21CE87654": {
                name: "SONU YADAV", dob: "11/10/2001", enroll: "AN21CE87654", course: "DIPLOMA (Civil)", session: "2021-2024",
                father: "SHRI RAMKUMAR YADAV", aadhar: "XXXX-XXXX-9668", mobile: "+91-9644558082", email: "sonuyadav@email.com",
                board10: "MP State Open School", board12: "", address: "Bhopal, MP, 462022",
                photo: "https://i.ibb.co/gFDdGj5c/student.jpg", blood: "A+", conv: "2021-24",
                forms: [["Third Semester", "2022-2023", "14/10/2022"]],
                results: {
                    "1": { h: "DEC 2021", sem: "FIRST", footer: "SGPA: 8.1", data: [['CE(101)','Applied Mathematics-I','4','A']] }
                }
            }
        };

        let currentS = null;

        window.onload = function() {
            const id = localStorage.getItem("userEnroll");
            if (id && students[id]) {
                currentS = students[id];
                render();
                view('dash');
                document.getElementById('portal').classList.remove('hidden');
            } else { location.href = "index.html"; }
        };

        function logout() { localStorage.removeItem("userEnroll"); location.href = "index.html"; }

        function render() {
            const s = currentS;
            document.getElementById('dynamicHeader').innerHTML = `<b>NAME:</b> ${s.name}<br><b>ENROLL:</b> ${s.enroll} | <b>COURSE:</b> ${s.course}`;
            document.getElementById('headerPhoto').src = s.photo;
            document.getElementById('v-dash').innerHTML = `<div style="background:white; padding:30px; border-radius:10px; border:1px solid #ddd;"><h2>Welcome, ${s.name}</h2><p>Address: <b>${s.address}</b></p></div>`;
            const acaTable = `<div class="a4-paper" style="min-height: auto;"><h2 style="text-align:center; border-bottom: 2px solid #000; padding-bottom: 10px;">STUDENT ACADEMIC PROFILE</h2><table class="table-data"><tr><td class="th-bg" colspan="2">PERSONAL DATA</td></tr><tr><td><b>Name:</b> ${s.name}</td><td><b>Father's Name:</b> ${s.father}</td></tr><tr><td><b>Mobile:</b> ${s.mobile}</td><td><b>DOB:</b> ${s.dob}</td></tr><tr><td><b>10th Board:</b> ${s.board10}</td><td><b>Enroll:</b> ${s.enroll}</td></tr><tr><td colspan="2"><b>Address:</b> ${s.address}</td></tr></table></div>`;
            document.getElementById('v-academic').innerHTML = acaTable;
            document.getElementById('v-geninfo').innerHTML = acaTable;
            document.getElementById('v-slip').innerHTML = `<div class="a4-paper"><div style="text-align:center; border-bottom: 2.5px solid #000; padding-bottom: 10px;"><img src="https://i.ibb.co/V0nT8RJN/arni-new-logo.png" style="width: 70px;"><h1>ARNI UNIVERSITY</h1><h2>REGISTRATION SLIP</h2></div><div style="display:flex; justify-content:space-between; margin-top:20px;"><table class="table-data" style="width:78%; margin:0;"><tr><td><b>Name:</b></td><td>${s.name}</td></tr><tr><td><b>Enroll No:</b></td><td>${s.enroll}</td></tr></table><img src="${s.photo}" style="width:110px; border:2px solid #000; padding:2px;"></div></div>`;
            document.getElementById('v-id').innerHTML = `<div class="id-grid"><div class="id-box"><div style="background:var(--primary); color:white; padding:8px; text-align:center;">ARNI UNIVERSITY</div><div style="display:flex; padding:15px; gap:12px;"><img src="${s.photo}" style="width:85px; height:105px; border: 1px solid #ddd;"><div><h3>${s.name}</h3><p>${s.enroll}</p><img src="https://api.qrserver.com/v1/create-qr-code/?size=50x50&data=${s.enroll}" style="width:45px;"></div></div></div><div class="id-box id-back"><div><p><b>ADDRESS</b></p><p>${s.address}</p></div><div style="background:var(--primary); color:white; text-align:center; padding:5px; font-size:10px;">arniuniv.in</div></div></div>`;
            document.getElementById('v-notif').innerHTML = `<div style="background:white; padding:20px; border-left: 5px solid #ffc107;"><h3>Notifications</h3><p>Convocation 2026 registration is open.</p></div>`;
            let fRows = s.forms.map(f => `<tr><td><b>${f[0]}</b></td><td>${f[1]}</td><td>${f[2]}</td><td style="color: green;">SUBMITTED</td></tr>`).join('');
            document.getElementById('v-form').innerHTML = `<div class="a4-paper" style="min-height: auto;"><h2>EXAMINATION FORM STATUS</h2><table class="table-data"><tr class="th-bg"><td>Semester</td><td>Session</td><td>Date</td><td>Status</td></tr>${fRows}</table></div>`;
            document.getElementById('semSearch').innerHTML = Object.keys(s.results).map(k => `<option value="${k}">Semester ${k}</option>`).join('');
        }

        function searchResult() {
            const k = document.getElementById('semSearch').value;
            const r = currentS.results[k];
            const s = currentS;
            let rows = r.data.map(row => `<tr><td>${row[0]}</td><td>${row[1]}</td><td>${row[2]}</td><td>${row[3]}</td></tr>`).join('');
            document.getElementById('resPaper').classList.remove('hidden');
            document.getElementById('resPaper').innerHTML = `<div class="a4-paper"><div style="border-bottom:3px solid #000; padding-bottom:10px;"><table width="100%"><tr><td width="15%"><img src="https://i.ibb.co/V0nT8RJN/arni-new-logo.png" style="width:80px;"></td><td width="70%" style="text-align:center;"><h1>ARNI UNIVERSITY</h1><h3>GRADES - ${r.h}</h3></td><td width="15%"><img src="${s.photo}" style="width:90px; border:1px solid #000;"></td></tr></table></div><table class="table-data"><tr><td><b>Name:</b> ${s.name}</td><td><b>Enroll:</b> ${s.enroll}</td></tr><tr><td><b>Course:</b> ${s.course}</td><td><b>Sem:</b> ${r.sem}</td></tr></table><table class="table-data"><tr class="th-bg"><td>Code</td><td>Subject</td><td>Credits</td><td>Grade</td></tr>${rows}</table><div style="margin-top:20px; font-weight:bold;">${r.footer} | RESULT: PASSED</div><p style="font-size: 10px; margin-top: 10px;">GUIDELINES: Computer-generated statement.</p></div>`;
        }

        function view(id, el) {
            document.querySelectorAll('.panel').forEach(p => p.classList.add('hidden'));
            document.getElementById('v-' + id).classList.remove('hidden');
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('nav-active'));
            if(el) el.classList.add('nav-active');
        }
    </script>
</body>
</html>
